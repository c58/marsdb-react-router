!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.Mars||(t.Mars={})).ReactRouter=e()}}(function(){return function e(t,r,n){function o(u,i){if(!r[u]){if(!t[u]){var s="function"==typeof require&&require;if(!i&&s)return s(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[u]={exports:{}};t[u][0].call(c.exports,function(e){var r=t[u][1][e];return o(r?r:e)},c,c.exports,e,t,r,n)}return r[u].exports}for(var a="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),f=n(c),p=e("react-router/lib/RouterContext"),d=n(p),v=e("./getParamsForRoute"),m=n(v),h=function(e){function t(){var e,r,n,u;o(this,t);for(var i=arguments.length,s=Array(i),l=0;i>l;l++)s[l]=arguments[l];return r=n=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._handleDataUpdate=function(){n.forceUpdate()},u=r,a(n,u)}return u(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.query.on("update",this._handleDataUpdate)}},{key:"componentWillUnmount",value:function(){this.props.query.removeListener("update",this._handleDataUpdate)}},{key:"render",value:function(){var e=this.props,t=e.providedProps,r=e.Component;return f["default"].createElement(r,t)}}]),t}(f["default"].Component),y=function(e){function t(e,r){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e,r));return g.call(n),n.state={result:{},usedProps:{}},n._queryMap=new Map,n._ensureQueries(e),n}return u(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this._ensureQueries(e)}},{key:"_ensureQueries",value:function(e){var t=this;this._ready=!1;var r=new Set(this._queryMap.keys()),n=e.routes,o=e.components,a=o.map(function(o,a){if(o&&o.getQuery){var u=n[a],l=(0,m["default"])(s({route:u},e));if(!t._queryMap.has(o)){var c=o.getQuery(l);return t._queryMap.set(o,c),c.execute()}var f=function(){r["delete"](o);var e=t._queryMap.get(o);return{v:e.updateVariables(l).then(function(){return e.execute()})}}();if("object"===("undefined"==typeof f?"undefined":i(f)))return f.v}});r.forEach(function(e){t._queryMap.get(e).stop(),t._queryMap["delete"](e)}),Promise.all(a).then(function(r){t._firstReady=!0,t._ready=!0;var n=new Map;r.forEach(function(e,t){n.set(o[t],e)}),t.setState({result:n,usedProps:e})})}},{key:"render",value:function(){if(this._firstReady){var e=this.props.InnerContext;return f["default"].createElement(StaticContainer,{shouldUpdate:this._ready},f["default"].createElement(e,s({},this.state.usedProps,{createElement:this._createElement})))}return this.props.loadingPlaceholder}}]),t}(f["default"].Component);y.defaultProps={loadingPlaceholder:f["default"].createElement("div",null),InnerContext:d["default"]};var g=function(){var e=this;this._createElement=function(t,r){var n=e._queryMap.get(t);if(n){var o=(0,m["default"])(r),a=e.state.result.get(t)||{};return f["default"].createElement(h,{query:n,providedProps:s({},r,o,a),Component:t})}return f["default"].createElement(t,r)}};r["default"]=y},{"./getParamsForRoute":2,react:void 0,"react-router/lib/RouterContext":8}],2:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!e)return null;var r={};return e.forEach(function(e){var n=t?t[e]:null;r[e]=void 0!==n?n:null}),r}function a(e){var t=e.route,r=e.routes,n=e.params,a=e.location,i={},l=!0,f=!1,p=void 0;try{for(var d,v=r[Symbol.iterator]();!(l=(d=v.next()).done);l=!0){var m=d.value;if(Object.assign(i,(0,c["default"])(m,n)),m===t)break}}catch(h){f=!0,p=h}finally{try{!l&&v["return"]&&v["return"]()}finally{if(f)throw p}}Object.assign(i,o(t.queryParams,a.query),o(t.stateParams,a.state));var y=t.prepareParams;return y&&((0,s["default"])("function"==typeof y,"react-router-relay: Expected `prepareParams` to be a function."),i=y(i,t),(0,s["default"])("object"===("undefined"==typeof i?"undefined":u(i))&&null!==i,"react-router-relay: Expected `prepareParams` to return an object.")),i}Object.defineProperty(r,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=a;var i=e("invariant"),s=n(i),l=e("react-router/lib/getRouteParams"),c=n(l)},{invariant:4,"react-router/lib/getRouteParams":10}],3:[function(e,t,r){t.exports=e("./dist/QueryResolverContext")["default"]},{"./dist/QueryResolverContext":1}],4:[function(e,t,r){"use strict";var n=function(e,t,r,n,o,a,u,i){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,o,a,u,i],c=0;s=new Error(t.replace(/%s/g,function(){return l[c++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};t.exports=n},{}],5:[function(e,t,r){function n(){c=!1,i.length?l=i.concat(l):f=-1,l.length&&o()}function o(){if(!c){var e=setTimeout(n);c=!0;for(var t=l.length;t;){for(i=l,l=[];++f<t;)i&&i[f].run();f=-1,t=l.length}i=null,c=!1,clearTimeout(e)}}function a(e,t){this.fun=e,this.array=t}function u(){}var i,s=t.exports={},l=[],c=!1,f=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new a(e,t)),1!==l.length||c||setTimeout(o,0)},a.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=u,s.addListener=u,s.once=u,s.off=u,s.removeListener=u,s.removeAllListeners=u,s.emit=u,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],6:[function(e,t,r){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(e){return o(e).replace(/\/+/g,"/+")}function u(e){for(var t="",r=[],n=[],o=void 0,u=0,i=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;o=i.exec(e);)o.index!==u&&(n.push(e.slice(u,o.index)),t+=a(e.slice(u,o.index))),o[1]?(t+="([^/?#]+)",r.push(o[1])):"**"===o[0]?(t+="([\\s\\S]*)",r.push("splat")):"*"===o[0]?(t+="([\\s\\S]*?)",r.push("splat")):"("===o[0]?t+="(?:":")"===o[0]&&(t+=")?"),n.push(o[0]),u=i.lastIndex;return u!==e.length&&(n.push(e.slice(u,e.length)),t+=a(e.slice(u,e.length))),{pattern:e,regexpSource:t,paramNames:r,tokens:n}}function i(e){return e in v||(v[e]=u(e)),v[e]}function s(e,t){"/"!==e.charAt(0)&&(e="/"+e),"/"!==t.charAt(0)&&(t="/"+t);var r=i(e),n=r.regexpSource,o=r.paramNames,a=r.tokens;n+="/*";var u="*"!==a[a.length-1];u&&(n+="([\\s\\S]*?)");var s=t.match(new RegExp("^"+n+"$","i")),l=void 0,c=void 0;if(null!=s){if(u){l=s.pop();var f=s[0].substr(0,s[0].length-l.length);if(l&&"/"!==f.charAt(f.length-1))return{remainingPathname:null,paramNames:o,paramValues:null}}else l="";c=s.slice(1).map(function(e){return null!=e?decodeURIComponent(e):e})}else l=c=null;return{remainingPathname:l,paramNames:o,paramValues:c}}function l(e){return i(e).paramNames}function c(e,t){var r=s(e,t),n=r.paramNames,o=r.paramValues;return null!=o?n.reduce(function(e,t,r){return e[t]=o[r],e},{}):null}function f(e,r){r=r||{};for(var n=i(e),o=n.tokens,a=0,u="",s=0,l=void 0,c=void 0,f=void 0,p=0,v=o.length;v>p;++p)l=o[p],"*"===l||"**"===l?(f=Array.isArray(r.splat)?r.splat[s++]:r.splat,null!=f||a>0?void 0:"production"!==t.env.NODE_ENV?d["default"](!1,'Missing splat #%s for path "%s"',s,e):d["default"](!1),null!=f&&(u+=encodeURI(f))):"("===l?a+=1:")"===l?a-=1:":"===l.charAt(0)?(c=l.substring(1),f=r[c],null!=f||a>0?void 0:"production"!==t.env.NODE_ENV?d["default"](!1,'Missing "%s" parameter for path "%s"',c,e):d["default"](!1),null!=f&&(u+=encodeURIComponent(f))):u+=l;return u.replace(/\/+/g,"/")}r.__esModule=!0,r.compilePattern=i,r.matchPattern=s,r.getParamNames=l,r.getParams=c,r.formatPattern=f;var p=e("invariant"),d=n(p),v={}}).call(this,e("_process"))},{_process:5,invariant:4}],7:[function(e,t,r){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return null==e||d["default"].isValidElement(e)}function a(e){return o(e)||Array.isArray(e)&&e.every(o)}function u(e,r,n){e=e||"UnknownComponent";for(var o in r)if(r.hasOwnProperty(o)){var a=r[o](n,o,e);a instanceof Error&&("production"!==t.env.NODE_ENV?m["default"](!1,a.message):void 0)}}function i(e,t){return f({},e,t)}function s(e){var t=e.type,r=i(t.defaultProps,e.props);if(t.propTypes&&u(t.displayName||t.name,t.propTypes,r),r.children){var n=l(r.children,r);n.length&&(r.childRoutes=n),delete r.children}return r}function l(e,t){var r=[];return d["default"].Children.forEach(e,function(e){if(d["default"].isValidElement(e))if(e.type.createRouteFromReactElement){var n=e.type.createRouteFromReactElement(e,t);n&&r.push(n)}else r.push(s(e))}),r}function c(e){return a(e)?e=l(e):e&&!Array.isArray(e)&&(e=[e]),e}r.__esModule=!0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};r.isReactChildren=a,r.createRouteFromReactElement=s,r.createRoutesFromReactChildren=l,r.createRoutes=c;var p=e("react"),d=n(p),v=e("./routerWarning"),m=n(v)}).call(this,e("_process"))},{"./routerWarning":11,_process:5,react:void 0}],8:[function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=e("invariant"),i=o(u),s=e("react"),l=o(s),c=e("./deprecateObjectProperties"),f=o(c),p=e("./getRouteParams"),d=o(p),v=e("./RouteUtils"),m=e("./routerWarning"),h=o(m),y=l["default"].PropTypes,g=y.array,_=y.func,b=y.object,E=l["default"].createClass({displayName:"RouterContext",propTypes:{history:b,router:b.isRequired,location:b.isRequired,routes:g.isRequired,params:b.isRequired,components:g.isRequired,createElement:_.isRequired},getDefaultProps:function(){return{createElement:l["default"].createElement}},childContextTypes:{history:b,location:b.isRequired,router:b.isRequired},getChildContext:function(){var e=this.props,t=e.router,r=e.history,o=e.location;return t||("production"!==n.env.NODE_ENV?h["default"](!1,"`<RouterContext>` expects a `router` rather than a `history`"):void 0,t=a({},r,{setRouteLeaveHook:r.listenBeforeLeavingRoute}),delete t.listenBeforeLeavingRoute),"production"!==n.env.NODE_ENV&&(o=f["default"](o,"`context.location` is deprecated, please use a route component's `props.location` instead. http://tiny.cc/router-accessinglocation")),{history:r,location:o,router:t}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,r=t.history,o=t.location,u=t.routes,s=t.params,c=t.components,f=null;return c&&(f=c.reduceRight(function(t,n,i){if(null==n)return t;var l=u[i],c=d["default"](l,s),f={history:r,location:o,params:s,route:l,routeParams:c,routes:u};if(v.isReactChildren(t))f.children=t;else if(t)for(var p in t)t.hasOwnProperty(p)&&(f[p]=t[p]);if("object"==typeof n){var m={};for(var h in n)n.hasOwnProperty(h)&&(m[h]=e.createElement(n[h],a({key:h},f)));return m}return e.createElement(n,f)},f)),null===f||f===!1||l["default"].isValidElement(f)?void 0:"production"!==n.env.NODE_ENV?i["default"](!1,"The root route must render a single element"):i["default"](!1),f}});r["default"]=E,t.exports=r["default"]}).call(this,e("_process"))},{"./RouteUtils":7,"./deprecateObjectProperties":9,"./getRouteParams":10,"./routerWarning":11,_process:5,invariant:4,react:void 0}],9:[function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!s)return e;var r={},o=function(o){"function"==typeof e[o]?r[o]=function(){return"production"!==n.env.NODE_ENV?i["default"](!1,t):void 0,e[o].apply(e,arguments)}:Object.defineProperty(r,o,{configurable:!1,enumerable:!1,get:function(){return"production"!==n.env.NODE_ENV?i["default"](!1,t):void 0,e[o]}})};for(var a in e)o(a);return r}r.__esModule=!0,r["default"]=a;var u=e("./routerWarning"),i=o(u),s=!1;if("production"!==n.env.NODE_ENV)try{Object.defineProperty({},"x",{get:function(){return!0}}).x&&(s=!0)}catch(l){}t.exports=r["default"]}).call(this,e("_process"))},{"./routerWarning":11,_process:5}],10:[function(e,t,r){"use strict";function n(e,t){var r={};if(!e.path)return r;var n=o.getParamNames(e.path);for(var a in t)t.hasOwnProperty(a)&&-1!==n.indexOf(a)&&(r[a]=t[a]);return r}r.__esModule=!0;var o=e("./PatternUtils");r["default"]=n,t.exports=r["default"]},{"./PatternUtils":6}],11:[function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){t="[react-router] "+t;for(var r=arguments.length,o=Array(r>2?r-2:0),a=2;r>a;a++)o[a-2]=arguments[a];"production"!==n.env.NODE_ENV?i["default"].apply(void 0,[e,t].concat(o)):void 0}r.__esModule=!0,r["default"]=a;var u=e("warning"),i=o(u);t.exports=r["default"]}).call(this,e("_process"))},{_process:5,warning:12}],12:[function(e,t,r){"use strict";var n=function(){};t.exports=n},{}]},{},[3])(3)});